---
title: "Lab10_report"
author: "your name"
date: "3/21/2019"
output:
  html_document: default
  pdf_document: default
  word_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(fig.height=5, fig.width=9, fig.align="center", echo = FALSE)
```

# Yearly Hydrograph

I was given flow and nitrate concentration data from the Maudouve River watershed in Brittany, France. In the figure below, I have plotted the hydrograph over the whole year.

```{r Q-plot, echo=TRUE, eval=TRUE}

data<-read.csv(file="https://raw.githubusercontent.com/francoisbirgand/francoisbirgand.github.io/master/data/sample_1hr_QC_data.csv",header = TRUE) #Reads file into table format

WSarea<-24.2 #Area of watershed in km2
WS<-"Maudouve at Saint-Donan, France"
names(data)=c("datetime","Q","C")   # renames the columns in simpler names
data<-as.data.frame(data)
data$datetime<-as.POSIXct(strptime(data$datetime, "%Y-%m-%d %H:%M:%S")) # transforms characters into date values understood by R
D<-data$datetime
Q<-data$Q   #Defines Q as the flow value (m3/s)
C<-data$C   #Defines C as the concentration value (mg N/L)

N=nrow(data)   #Sets N to the value equal to the number of total rows in the table

# definition of the x and y axes limits
#startdate<-as.POSIXct("1997-10-23")
#enddate<-as.POSIXct("1997-10-27")
startdate<-D[1]
enddate<-D[N]
xlim = as.POSIXct(c(startdate,enddate))  # this renders the first and last date understandable for plotting purposes
ylimQ = c(0,max(Q))           # ylim for flow
    
ScaleF = 1.2                  # scaling factor for size of fonts and other things
    
y1lab<-expression("Flow rate (" * m^3 * "/s)")  # defines the label for flow

par(mar=c(4.5,4.5,4,4.5))     # defines the sizes, in number of lines, for the margins (bottom, left, top, right)

    ltyp=c(1,2)
    
    plot(D,Q,col="blue",type="l",cex=0.1,yaxt="n",     
         lty=ltyp[1],xaxt="n",xlab="",ylab="",xlim=xlim,ylim=ylimQ)
    # we are taking all the default addition of axis tick marks and numbers out by using xaxt and yaxt = "n"
    # and setting the axis labels at nothing using xlab = "" and ylab = ""
    abline(h=0)
    abline(v=seq(startdate, enddate, by="week"),col=("grey"))
    axis.POSIXct(1, at=seq(startdate, enddate, by="week"), format="%m/%d %H",cex.axis=ScaleF)
    # this tells R that we want the X axis ticks and values to be displayed as dates, be added on a monthly basis,
    # using the month/day format
    axis(2,cex.axis=ScaleF)
    # this tells R that the first Y axis ticks can be displayed  (that function was repressed earlier by 'yaxt="n" ')
    par(new=TRUE)
    # this tells R that a new plot has already been opened, in other words you are telling R to keep adding things
    # on the existing plot
    
    mtext("Dates in 1997-1998",side=1,line=3,cex=ScaleF) # add in the margin the defined labels and title
    mtext(y1lab,side=2,line=3,cex=ScaleF)
    mtext(WS,side=3,line=1.5,cex=ScaleF)
    
    legend("topleft",c("Flow"),lty = c(1), col = c("blue"))
 

```

## Simple flow statistics over the full year

- The maximum flow rate measured that year was `r signif(max(Q),3)` m^3^/s or `you fill it in here` mm.

## Identified hydrograph of 25 October 1997

I have plotted this hydrograph below.

```{r}
#HGstartdate<-as.POSIXct("")
#HGenddate<-as.POSIXct("")
```

I have decided that the beginning of the hydrograph occurred on `fill in here` and ended on `fill in here`.
Report other request here.

## Yearly cumulative flow

Report here the requests from lab sheet.

## Hydrograph and chemograph

Plot the combined hydro- and chemograph, at the yearly scale, and at the October 25, 1997 scale.
Describe the chemograph as a function of the hydrograph

## Instantaneous fluxes and cumulated load

## Mass duration curves



